-#
-#  player_variable.haml - Player variable object (generic template).
-#
-#  variable   - The item to display.
-#  in_player  - If True, display a condensed variable for display inside a
-#               channel object.  (Default: false.)
-#  suffix     - An optional suffix to add after the value.  (Default: blank.)

- in_player ||= false

-# Shorten this a bit.
- variable = player_variable

= haml(:json, locals: { name: variable.id, item: variable }) if request.params.key? "json"
- unless request.params.key? "json"
  %section.player-variable{ class: variable.value }
    %p
      - preamble = "#{variable.id}: " if in_player
      - preamble = "#{variable.player_channel_name}'s #{variable.id}: " unless in_player
      = surround preamble, "." do
        %strong= variable.value

    = haml(:in_out_links, locals: { item: variable, inwards: in_player })
